clc;
clear all;

d(:,:,1)=[1 1 0 0 0 1 1;
1 1 0 1 0 1 1;
1 1 0 1 0 1 1;
1 1 0 1 0 1 1;
1 1 0 1 0 1 1;
1 0 0 0 0 0 1;
1 0 1 1 1 0 1;
1 0 1 1 1 0 1;
1 0 1 1 1 0 1;
0 0 1 1 1 0 0;];


d(:,:,2)=[0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;];


d(:,:,3)=[0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;];


d(:,:,4)=[0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 1 1 1 0 0;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;];


d(:,:,5)=[0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;
0 0 1 1 1 1 1;
0 0 1 1 1 1 1;
0 0 0 0 0 0 0;
0 0 0 0 0 0 0;];


dist=imnoise(d(:,:,1));
dist=reshape(dist,[1,70]);

 for i=1:5
A(i,:)=reshape(d(:,:,i),[1,70]);
 end
  A(A==0)=-1;
 
 T=zeros(70,70);
 for i=1:5
 T=T+(A(i,:)'*A(i,:));
 end
 
 new=T*dist';

 
 
  
for i=1:5
hd(i,1)=sum(new'-A(i,:));
end
 


[minva ind]=min(abs(hd));


new=A(ind,:);



new=sign(new);
new=reshape(new,[10 7]);
imshow(new)


